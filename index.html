<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Asistencia - Colegio</title>
    <style>
        /* Estilos Mobile First */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            background: #f0f2f5;
            color: #333;
            line-height: 1.6;
        }

        .container {
            max-width: 100%;
            padding: 15px;
        }

        .header {
            background: #2c3e50;
            color: white;
            padding: 20px 15px;
            text-align: center;
            margin-bottom: 20px;
        }

        .card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 15px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .btn {
            padding: 12px 20px;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            width: 100%;
            margin: 5px 0;
            transition: background 0.3s;
        }

        .btn-primary {
            background: #3498db;
            color: white;
        }

        .btn-success {
            background: #2ecc71;
            color: white;
        }

        .btn-warning {
            background: #f39c12;
            color: white;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #2c3e50;
        }

        .form-group input, .form-group select {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
        }

        .status-on-time { color: #2ecc71; font-weight: bold; }
        .status-late { color: #e74c3c; font-weight: bold; }
        .status-absent { color: #f39c12; font-weight: bold; }

        .teacher-card {
            display: flex;
            align-items: center;
            padding: 15px;
            border-bottom: 1px solid #eee;
        }

        .teacher-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: #3498db;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            margin-right: 15px;
        }

        .tab-container {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 2px solid #3498db;
        }

        .tab {
            padding: 10px 20px;
            cursor: pointer;
            background: #ecf0f1;
            margin-right: 5px;
            border-radius: 5px 5px 0 0;
        }

        .tab.active {
            background: #3498db;
            color: white;
        }

        .hidden {
            display: none;
        }

        /* Responsive */
        @media (min-width: 768px) {
            .container {
                max-width: 750px;
                margin: 0 auto;
            }
            
            .btn {
                width: auto;
                margin: 5px;
            }
        }
    </style>
</head>
<body>
    <div id="app">
        <!-- La aplicaci√≥n se carga aqu√≠ -->
    </div>

    <script>
        // Sistema de Asistencia - Aplicaci√≥n completa
        class AttendanceSystem {
            constructor() {
                this.currentUser = null;
                this.teachers = [
                    {
                        id: 1,
                        name: "Prof. Gabriel Mart√≠nez",
                        subjects: "Matem√°ticas, Psicolog√≠a",
                        schedule: "1:00 PM",
                        avatar: "GM"
                    },
                    {
                        id: 2, 
                        name: "Prof. Ana L√≥pez",
                        subjects: "Literatura, Historia",
                        schedule: "1:00 PM",
                        avatar: "AL"
                    },
                    {
                        id: 3,
                        name: "Prof. Carlos Rodr√≠guez", 
                        subjects: "Ciencias, Biolog√≠a",
                        schedule: "2:00 PM",
                        avatar: "CR"
                    }
                ];
                
                this.attendance = [];
                this.init();
            }

            init() {
                this.showLogin();
            }

            showLogin() {
                document.getElementById('app').innerHTML = `
                    <div class="header">
                        <h1>üè´ Sistema de Asistencia</h1>
                        <p>Registro de maestros - Colegio</p>
                    </div>
                    
                    <div class="container">
                        <div class="card">
                            <h2>üîê Iniciar Sesi√≥n</h2>
                            <div class="form-group">
                                <label>Usuario:</label>
                                <input type="text" id="username" placeholder="Ingresa tu usuario" value="admin">
                            </div>
                            <div class="form-group">
                                <label>Contrase√±a:</label>
                                <input type="password" id="password" placeholder="Ingresa tu contrase√±a" value="123456">
                            </div>
                            <button class="btn btn-primary" onclick="app.login()">üéØ Ingresar al Sistema</button>
                            <p style="text-align: center; margin-top: 15px; color: #7f8c8d;">
                                <small>Demo: Usa admin / 123456</small>
                            </p>
                        </div>
                    </div>
                `;
            }

            login() {
                const username = document.getElementById('username').value;
                const password = document.getElementById('password').value;
                
                if (username && password) {
                    this.currentUser = { username, role: 'admin' };
                    this.showDashboard();
                } else {
                    alert('Por favor completa ambos campos');
                }
            }

            showDashboard() {
                const today = new Date().toLocaleDateString('es-ES', { 
                    weekday: 'long', 
                    year: 'numeric', 
                    month: 'long', 
                    day: 'numeric' 
                });

                document.getElementById('app').innerHTML = `
                    <div class="header">
                        <h1>üìä Dashboard</h1>
                        <p>${today} - Bienvenido, ${this.currentUser.username}</p>
                    </div>
                    
                    <div class="container">
                        <div class="card">
                            <h3>üìà Resumen del D√≠a</h3>
                            <p><span class="status-on-time">üü¢ Puntual:</span> 12 maestros</p>
                            <p><span class="status-late">üî¥ Tard√≠os:</span> 3 maestros</p>
                            <p><span class="status-absent">üü° Ausentes:</span> 1 maestro</p>
                        </div>
                        
                        <div class="card">
                            <h3>üöÄ Acciones R√°pidas</h3>
                            <button class="btn btn-primary" onclick="app.showAttendance()">üìù Registrar Asistencia</button>
                            <button class="btn btn-success" onclick="app.showTeachers()">üë®‚Äçüè´ Ver Maestros</button>
                            <button class="btn btn-warning" onclick="app.showSchedule()">‚è∞ Horarios</button>
                        </div>

                        <div class="card">
                            <h3>üîî Notificaciones Recientes</h3>
                            <p>‚Ä¢ Prof. Carlos no registr√≥ entrada (1:00 PM)</p>
                            <p>‚Ä¢ Prof. Ana lleg√≥ 15 minutos tarde</p>
                        </div>
                    </div>
                `;
            }

            showAttendance() {
                document.getElementById('app').innerHTML = `
                    <div class="header">
                        <h1>üìù Registro de Asistencia</h1>
                        <button class="btn" onclick="app.showDashboard()">‚Üê Volver al Dashboard</button>
                    </div>
                    
                    <div class="container">
                        <div class="card">
                            <h3>üìÖ Fecha: ${new Date().toLocaleDateString('es-ES')}</h3>
                            
                            <div class="form-group">
                                <label>üë®‚Äçüè´ Seleccionar Maestro:</label>
                                <select id="teacherSelect">
                                    ${this.teachers.map(teacher => 
                                        `<option value="${teacher.id}">${teacher.name}</option>`
                                    ).join('')}
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label>üïê Hora de entrada:</label>
                                <input type="time" id="entryTime" value="13:00">
                            </div>

                            <div class="form-group">
                                <label>üí¨ Observaciones:</label>
                                <input type="text" id="notes" placeholder="Notas adicionales">
                            </div>
                            
                            <button class="btn btn-success" onclick="app.registerAttendance()">üíæ Guardar Registro</button>
                        </div>

                        <div class="card">
                            <h3>üìã Registros de Hoy</h3>
                            <div id="attendanceList">
                                <p>No hay registros a√∫n para hoy.</p>
                            </div>
                        </div>
                    </div>
                `;
            }

            registerAttendance() {
                const teacherId = document.getElementById('teacherSelect').value;
                const entryTime = document.getElementById('entryTime').value;
                const notes = document.getElementById('notes').value;
                
                const teacher = this.teachers.find(t => t.id == teacherId);
                
                this.attendance.push({
                    teacher: teacher.name,
                    date: new Date().toLocaleDateString(),
                    entryTime,
                    notes,
                    status: this.calculateStatus(entryTime, teacher.schedule)
                });
                
                alert(`‚úÖ Asistencia registrada para ${teacher.name}`);
                this.showAttendance();
            }

            calculateStatus(entryTime, schedule) {
                // L√≥gica simple para determinar estado
                const entry = new Date('2000-01-01 ' + entryTime);
                const scheduled = new Date('2000-01-01 ' + schedule);
                
                const diff = (entry - scheduled) / (1000 * 60); // diferencia en minutos
                
                if (diff <= 0) return 'on-time';
                if (diff <= 10) return 'late';
                return 'absent';
            }

            showTeachers() {
                document.getElementById('app').innerHTML = `
                    <div class="header">
                        <h1>üë®‚Äçüè´ Lista de Maestros</h1>
                        <button class="btn" onclick="app.showDashboard()">‚Üê Volver al Dashboard</button>
                    </div>
                    
                    <div class="container">
                        ${this.teachers.map(teacher => `
                            <div class="card">
                                <div class="teacher-card">
                                    <div class="teacher-avatar">${teacher.avatar}</div>
                                    <div>
                                        <h3>${teacher.name}</h3>
                                        <p>üìö ${teacher.subjects}</p>
                                        <p>‚è∞ Horario: ${teacher.schedule}</p>
                                    </div>
                                </div>
                            </div>
                        `).join('')}
                        
                        <div class="card">
                            <button class="btn btn-primary">‚ûï Agregar Nuevo Maestro</button>
                        </div>
                    </div>
                `;
            }

            showSchedule() {
                document.getElementById('app').innerHTML = `
                    <div class="header">
                        <h1>‚è∞ Horarios de Clases</h1>
                        <button class="btn" onclick="app.showDashboard()">‚Üê Volver</button>
                    </div>
                    
                    <div class="container">
                        <div class="card">
                            <h3>üïê Horario Actual del Colegio</h3>
                            <ul style="padding-left: 20px; margin-top: 10px;">
                                <li>1:00-1:40 - Hora 1</li>
                                <li>1:40-2:20 - Hora 2</li>
                                <li>2:20-3:00 - Hora 3</li>
                                <li>3:00-3:40 - Hora 4</li>
                                <li>3:40-3:55 - üçé Receso</li>
                                <li>3:55-4:35 - Hora 5</li>
                                <li>4:35-5:15 - Hora 6</li>
                            </ul>
                        </div>
                    </div>
                `;
            }

            logout() {
                this.currentUser = null;
                this.showLogin();
            }
        }

        // Inicializar la aplicaci√≥n
        const app = new AttendanceSystem();
    </script>
</body>
</html>
